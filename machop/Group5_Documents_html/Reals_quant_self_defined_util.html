<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reals_quant_self_defined_util module &mdash; Group5 Document 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f2a433a1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="modify_tensorRT module" href="modify_tensorRT.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Group5 Document
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Group5_Introduction.html">General introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Group5_Introduction.html#preparation-and-installations">Preparation and installations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Group5_Introduction.html#pass-for-mase-graph">PASS for Mase Graph</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reals_quant_self_defined_util module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util.Linear"><code class="docutils literal notranslate"><span class="pre">Linear</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util._QuantConvNd"><code class="docutils literal notranslate"><span class="pre">_QuantConvNd</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantLinear_TrueQuant"><code class="docutils literal notranslate"><span class="pre">QuantLinear_TrueQuant</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantLinear_TrueQuant.forward"><code class="docutils literal notranslate"><span class="pre">QuantLinear_TrueQuant.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantConv2d_TrueQuant"><code class="docutils literal notranslate"><span class="pre">QuantConv2d_TrueQuant</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantConv2d_TrueQuant.forward"><code class="docutils literal notranslate"><span class="pre">QuantConv2d_TrueQuant.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util._QuantConvNd_TrueQuant"><code class="docutils literal notranslate"><span class="pre">_QuantConvNd_TrueQuant</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modify_tensorRT.html">modify_tensorRT module</a></li>
<li class="toctree-l1"><a class="reference internal" href="quantize_tensorRT.html">quantize_tensorRT module</a></li>
<li class="toctree-l1"><a class="reference internal" href="modify_tensorRT.html">modify_tensorRT module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reals_quant_self_defined_util module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util.Linear"><code class="docutils literal notranslate"><span class="pre">Linear</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util._QuantConvNd"><code class="docutils literal notranslate"><span class="pre">_QuantConvNd</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantLinear_TrueQuant"><code class="docutils literal notranslate"><span class="pre">QuantLinear_TrueQuant</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantLinear_TrueQuant.forward"><code class="docutils literal notranslate"><span class="pre">QuantLinear_TrueQuant.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantConv2d_TrueQuant"><code class="docutils literal notranslate"><span class="pre">QuantConv2d_TrueQuant</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Reals_quant_self_defined_util.QuantConv2d_TrueQuant.forward"><code class="docutils literal notranslate"><span class="pre">QuantConv2d_TrueQuant.forward()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Reals_quant_self_defined_util._QuantConvNd_TrueQuant"><code class="docutils literal notranslate"><span class="pre">_QuantConvNd_TrueQuant</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Group5 Document</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Reals_quant_self_defined_util module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Reals_quant_self_defined_util.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-Reals_quant_self_defined_util">
<span id="reals-quant-self-defined-util-module"></span><h1>Reals_quant_self_defined_util module<a class="headerlink" href="#module-Reals_quant_self_defined_util" title="Link to this heading"></a></h1>
<dl class="py attribute">
<dt class="sig sig-object py" id="Reals_quant_self_defined_util.Linear">
<span class="sig-prename descclassname"><span class="pre">Reals_quant_self_defined_util.</span></span><span class="sig-name descname"><span class="pre">Linear</span></span><a class="headerlink" href="#Reals_quant_self_defined_util.Linear" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#Reals_quant_self_defined_util.QuantLinear_TrueQuant" title="Reals_quant_self_defined_util.QuantLinear_TrueQuant"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuantLinear_TrueQuant</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="Reals_quant_self_defined_util._QuantConvNd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Reals_quant_self_defined_util.</span></span><span class="sig-name descname"><span class="pre">_QuantConvNd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transposed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_padding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quant_desc_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quant_desc_weight</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Reals_quant_self_defined_util._QuantConvNd" title="Link to this definition"></a></dt>
<dd><p>base class of quantized Conv inherited from _ConvNd</p>
<p>Comments of original arguments can be found in torch.nn.modules.conv</p>
<dl class="simple">
<dt>Arguments:</dt><dd><dl class="simple">
<dt>quant_desc_input: An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">QuantDescriptor</span></code>.</dt><dd><p>Quantization descriptor of input.</p>
</dd>
<dt>quant_desc_weight: An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">QuantDescriptor</span></code>.</dt><dd><p>Quantization descriptor of weight.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><p>ValueError: If unsupported arguments are passed in.</p>
</dd>
<dt>Readonly properties:</dt><dd><ul class="simple">
<li><p>input_quantizer:</p></li>
<li><p>weight_quantizer:</p></li>
</ul>
</dd>
<dt>Static methods:</dt><dd><ul class="simple">
<li><p>set_default_quant_desc_input: Set default_quant_desc_input</p></li>
<li><p>set_default_quant_desc_weight: Set default_quant_desc_weight</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="Reals_quant_self_defined_util.QuantLinear_TrueQuant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Reals_quant_self_defined_util.</span></span><span class="sig-name descname"><span class="pre">QuantLinear_TrueQuant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Reals_quant_self_defined_util.QuantLinear_TrueQuant" title="Link to this definition"></a></dt>
<dd><p>Quantized version of nn.Linear
Modifed for real quantization from pytorch_quantization package.</p>
<p>Apply quantized linear to the incoming data, y = dequant(quant(x)quant(A)^T + b).</p>
<p>Keep Module name “Linear” instead of “QuantLinear” so that it can be easily dropped into preexisting model and load
pretrained weights. An alias “QuantLinear” is defined below. The base code is a copy of nn.Linear, see detailed
comment of original arguments there.</p>
<p>Quantization descriptors are passed in in kwargs. If not presents, default_quant_desc_input and
default_quant_desc_weight are used.</p>
<dl class="simple">
<dt>Keyword Arguments:</dt><dd><p>quant_desc_input: An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">QuantDescriptor</span></code>.
Quantization descriptor of input.
quant_desc_wegiht: An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">QuantDescriptor</span></code>.
Quantization descriptor of weight.</p>
</dd>
<dt>Raises:</dt><dd><p>ValueError: If unsupported arguments are passed in.
KeyError: If unsupported kwargs are passed in.</p>
</dd>
<dt>Readonly properties:</dt><dd><ul class="simple">
<li><p>input_quantizer:</p></li>
<li><p>weight_quantizer:</p></li>
</ul>
</dd>
<dt>Static methods:</dt><dd><ul class="simple">
<li><p>set_default_quant_desc_input: Set default_quant_desc_input</p></li>
<li><p>set_default_quant_desc_weight: Set default_quant_desc_weight</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="Reals_quant_self_defined_util.QuantLinear_TrueQuant.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Reals_quant_self_defined_util.QuantLinear_TrueQuant.forward" title="Link to this definition"></a></dt>
<dd><p>Define the computation performed at every call.</p>
<p>Should be overridden by all subclasses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="Reals_quant_self_defined_util.QuantConv2d_TrueQuant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Reals_quant_self_defined_util.</span></span><span class="sig-name descname"><span class="pre">QuantConv2d_TrueQuant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zeros'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Reals_quant_self_defined_util.QuantConv2d_TrueQuant" title="Link to this definition"></a></dt>
<dd><p>Quantized 2D conv</p>
<dl class="py method">
<dt class="sig sig-object py" id="Reals_quant_self_defined_util.QuantConv2d_TrueQuant.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Reals_quant_self_defined_util.QuantConv2d_TrueQuant.forward" title="Link to this definition"></a></dt>
<dd><p>Define the computation performed at every call.</p>
<p>Should be overridden by all subclasses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="Reals_quant_self_defined_util._QuantConvNd_TrueQuant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Reals_quant_self_defined_util.</span></span><span class="sig-name descname"><span class="pre">_QuantConvNd_TrueQuant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stride</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transposed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_padding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bias</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quant_desc_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quant_desc_weight</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Reals_quant_self_defined_util._QuantConvNd_TrueQuant" title="Link to this definition"></a></dt>
<dd><p>Base class of quantized Conv inherited from _ConvNd.
Modified for real quantization from pytorch_quantization package.
Comments of original arguments can be found in torch.nn.modules.conv.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quant_desc_input</strong> – An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">QuantDescriptor</span></code>.
Quantization descriptor of input.</p></li>
<li><p><strong>quant_desc_weight</strong> – An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">QuantDescriptor</span></code>.
Quantization descriptor of weight.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If unsupported arguments are passed in.</p>
</dd>
</dl>
<dl class="simple">
<dt>Readonly properties:</dt><dd><ul class="simple">
<li><p>input_quantizer</p></li>
<li><p>weight_quantizer</p></li>
</ul>
</dd>
<dt>Static methods:</dt><dd><ul class="simple">
<li><p>set_default_quant_desc_input: Set default_quant_desc_input</p></li>
<li><p>set_default_quant_desc_weight: Set default_quant_desc_weight</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modify_tensorRT.html" class="btn btn-neutral float-right" title="modify_tensorRT module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Xinyi Sun.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>