# NOTE: Take a look at pruning/methods.py and pruning/criteria.py for available values
# This config shows an example channel pruning pass via Microsoft's NNI (10% sparsity)
# It's important that you don't prune FC layers or ignore the last one as that'll change
# the shape of the predidction. :)
# --------------------------------------------------------------------------------------
# Feel free to swap the model and dataset out to experiment :)
# Use this configuration with machop/test/passes/transforms/prune/prune.py

# For tensor-wise pruning, select scope="tensor" 
# For layer-wise pruning, select scope="layer" and make sure the sparsity is a dictionary
# For global pruning, select scope="global"
# granularit should be either elementwise or channelwise


model = "vgg7"
dataset = "cifar10"

[passes.prune.weight]
method = "l1-norm"
scope = "tensor"
granularity = "elementwise"
sparsity = 0.5

[passes.prune.activation]
method = "l1-norm"
scope = "tensor"
granularity = "elementwise"
sparsity = 0.6
